<!DOCTYPE html>
<html>
<head>
  <title>ThingSpeak Value</title>
</head>
<body>
  <h2>Latest Temperature</h2>
  <div id="value">Loading...</div>

  <script>
    const channelID = "1"; // Replace with your ThingSpeak channel number
    const readAPIKey = "EAG5JSOPGG6TUX2V"; // Replace with your Read API Key
    const fieldNumber = 1; // The field you are retrieving

    async function fetchValue() {
      try {
        const url = `https://api.thingspeak.com/channels/${channelID}/fields/${fieldNumber}.json?api_key=${readAPIKey}&results=1`;
        const response = await fetch(url);
        const data = await response.json();

        // Extract the latest value
        const latestValue = data.feeds[0][`field${fieldNumber}`];
        document.getElementById('value').textContent = latestValue;
      } catch (error) {
        document.getElementById('value').textContent = 'Error fetching data';
        console.error(error);
      }
    }

    fetchValue();
  </script>
</body>
</html>
